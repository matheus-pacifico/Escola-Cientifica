<!DOCTYPE html>
<html lang="pt-br">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Escola Científica</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">

  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">

  <script>if(window.location.search.includes("i=")){let e=window.location.search.replace(/[\?&]i=[^&]+(&|$)/g,function(e,a){return e.endsWith("&")?"&":""}).replace(/^\?&/,"?").replace(/^\?$/,"");e?window.history.replaceState({},document.title,window.location.pathname+e):window.history.replaceState({},document.title,window.location.pathname)}if(location.pathname.endsWith("/")&&location.search){let a=location.pathname.replace(/\/$/,"")+location.search;history.replaceState(null,"",a)}</script>

  <link rel="stylesheet" href="../public/css/style.css" type="text/css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..20,300..500;1,14..18,300..500&family=Open+Sans:wght@400..700&display=swap" rel="stylesheet">
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
  <header>
    <nav class="navbar navbar-dark bgVerde">
      <div class="container-fluid txtBranco">
        <a class="navbar-brand navSans navA" href="../">
          <img src="../public/img/icone.png" alt="Logo Escola Científica" width="30" height="30" class="d-inline-block align-text-top">
		  <span>Escola Científica</span>
        </a>

        <button class="navbar-toggler txtBranco borda-botao-nav" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" style="border-color: #DEE2E6 !important;" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon txtBranco"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <span><a class="nav-link active txtBranco" href="postar">Postar Obra</a></span>
            <span><a class="nav-link active txtBranco" href="gerenciar">Gerenciar Obras</a></span>
          </div>
        </div>
      </div>
    </nav>
  </header>

<main>
	<H1 class="d-flex justify-content-center">Postar trabalho</H1>

	<div class="container maiss margem-bottom-20">
		<div class="row justify-content-center d-flex">
			<form class="form-goup col-10 col-md-10 col-sm-10 col-lg-10 col-xl-9" method="POST" action="../controller/postObra">
				<div class="mbb-2">
					<label for="titulo" class="form-label">Título</label>  
					<input type="text" class="form-control form-control-sm" id="titulo" name="titulo" autocomplete="off" required/>
				</div>

				<div class="row">
					<span  class="col-lg-4 col-sm-4 col-12 col-md-4 mbb-2">
						<label for="ifsn" class="form-label">IFSN</label>
						<input  type="text" class="form-control form-control-sm" id="ifsn" name="ifsn" autocomplete="off" required/>
					</span>
					<span class="col-lg-4 col-sm-4 col-12 col-md-4 mbb-2">
						<label for="area" class="form-label">Área</label> 
						<input type="text" class="form-control form-control-sm" id="area" name="area" autocomplete="off" required/>
					</span>
					<span class="col-lg-4 col-sm-4 col-12 col-md-4 mbb-2">
						<label for="area" class="form-label">Ano</label> 
						<input type="text" class="form-control form-control-sm" id="ano" name="ano" autocomplete="off" type="text" maxlength="4" inputmode="numeric" pattern="\d{1,4}" oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0,4)" required/>
					</span>
				</div>

				<div class="mbb-2 input-group-sm">
					<label for="descricao" class="form-label">Descrição</label>  
					<textarea class="form-control" class="form-control form-control-sm" id="descricao" name="descricao" rows="3" autocomplete="off" required></textarea> 
				</div>
			
				<div class="mbb-2 row">
					<span class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
						<label for="autor" class="form-label">Autor 1</label>
						<input type="text" class="form-control form-control-sm" id="autor" name="autor" autocomplete="off" required/>
					</span>	
					<span class="col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6">
						<label for="autor" class="form-label">Autor 2 <span style="font-size: 0.84rem;">(se houver)</span></label>
						<input type="text" class="form-control form-control-sm" id="autor2" name="autor2" autocomplete="off"/>
					</span>	
				</div>

				<div class="mbb-2 row">	
					<span class="" style="max-width: 185px;">
						<label for="input-arquivo" class="botao-file" style="padding: 4px 16px;margin-top: 5px;font-size:15px;">Escolher arquivo</label>	
						<input type="file" id="input-arquivo" name="arquivo" accept=".pdf" style="display: none;">
					</span> 
					<span class="col-7 col-md-8 col-sm-8 col-lg-8 col-xl-8">
						<div id="status-do-envio" style="margin-top: 5px; font-size: 1.45em"></div>
					</span>
				</div>

				<div class="mbb-2 row">
					<input type="text" id="infoFile" style="display: none;" name="info_arquivo" required />
				</div>
			
				<div class="justify-content-center d-flex">
					<button type="submit" style="padding: 5px 100px;" class="btn botao-enviar txtBranco">Enviar</button>
				</div>
			</form>
		</div>
	</div>

</main>

<script src="../controller/uploadArquivo.js"></script>
<script>
    const uploadSuccessListener = function(event) {
        showSuccessfulUploadMessage();
        setInputsFileInformation(event.detail.uri);
    };
    const uploadFailedListener = function(event) {
        showFailUploadMessage();
    };
    document.addEventListener('uploadSuccess', uploadSuccessListener);
    document.addEventListener('uploadFailed', uploadFailedListener);
</script>

<section>
  <footer class="py-1 mt-1 bgCinzaEscuro rodape">
        <ul class="nav justify-content-center border-bottom pt-1 pb-1"> 
          <li class="nav-item text-muted">Desenvolvido por</li> 
        </ul> 
        <p class="text-center text-muted"><span style="margin-right: 0.5px;">©</span>2026 <a href="https://linkedin.com/in/matheus-pacifico" target="_blank" id="matheus-pacifico-linkedin">Matheus Pacifico</a></p>
  </footer>
</section>

</body>
</html>
